var e,t=Object.create,r=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,o=Object.getOwnPropertySymbols,n=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,u=(e,t,s)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,i=(e,t)=>{for(var r in t||(t={}))c.call(t,r)&&u(e,r,t[r]);if(o)for(var r of o(t))l.call(t,r)&&u(e,r,t[r]);return e},f=(e,t)=>{var r={};for(var s in e)c.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(null!=e&&o)for(var s of o(e))t.indexOf(s)<0&&l.call(e,s)&&(r[s]=e[s]);return r},d=(e,t,o,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let l of a(t))c.call(e,l)||l===o||r(e,l,{get:()=>t[l],enumerable:!(n=s(t,l))||n.enumerable});return e},p={};((e,t)=>{for(var s in t)r(e,s,{get:t[s],enumerable:!0})})(p,{GatewayError:()=>b,default:()=>y}),module.exports=(e=p,d(r({},"__esModule",{value:!0}),e));var h=((e,s,a)=>(a=null!=e?t(n(e)):{},d(!s&&e&&e.__esModule?a:r(a,"default",{value:e,enumerable:!0}),e)))(require("axios")),b=class extends Error{constructor({message:e,headers:t,data:r,status:s=500}){super(e),this.headers=t,this.status=s,this.data=r}},y=class{constructor(e,t={}){for(const r in e){const s=e[r];if("string"!=typeof s)if("object"!=typeof s);else{const a=s,{headers:o={}}=a,n=f(a,["headers"]),c=h.default.create(i({headers:i(i({},t),o)},n));e[r]=c}else{const a=h.default.create({baseURL:s,headers:t});e[r]=a}}this.services=e}send(e){return t=this,r=arguments,s=function*(e,t={}){const r=this.services[e];if("string"==typeof r||"object"==typeof r)throw new Error("");return yield new Promise(((e,s)=>{r(t).then((t=>{e({headers:t.headers,data:t.data,status:t.status})})).catch((e=>{e instanceof h.AxiosError&&(e.response&&s(new b({message:e.response.statusText,status:e.response.status,headers:e.response.headers,data:e.response.data})),s(new b({message:"BAD_GATEWAY",status:502}))),s(new b({message:"INTERNAL_SERVER_ERROR"}))}))}))},new Promise(((e,a)=>{var o=e=>{try{c(s.next(e))}catch(e){a(e)}},n=e=>{try{c(s.throw(e))}catch(e){a(e)}},c=t=>t.done?e(t.value):Promise.resolve(t.value).then(o,n);c((s=s.apply(t,r)).next())}));var t,r,s}};